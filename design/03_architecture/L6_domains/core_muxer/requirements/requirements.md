# core_muxer 需求

> 需求追溯与规格说明

---

## 功能需求

### FR-MUX-001: 流创建

| 属性 | 说明 |
|------|------|
| 描述 | 系统应能在连接上创建新流 |
| 优先级 | P0 |
| 验收标准 | 成功打开双向流 |

### FR-MUX-002: 流接受

| 属性 | 说明 |
|------|------|
| 描述 | 系统应能接受对端发起的流 |
| 优先级 | P0 |
| 验收标准 | 正确接受入站流 |

### FR-MUX-003: 并发流

| 属性 | 说明 |
|------|------|
| 描述 | 系统应支持多个并发流 |
| 优先级 | P0 |
| 验收标准 | 支持 1000+ 并发流 |

### FR-MUX-004: 流控制

| 属性 | 说明 |
|------|------|
| 描述 | 系统应提供流量控制 |
| 优先级 | P1 |
| 验收标准 | 慢消费者不阻塞其他流 |

---

## 非功能需求

### NFR-MUX-001: 性能

| 属性 | 说明 |
|------|------|
| 描述 | 流创建应在 1ms 内完成 |
| 验收标准 | 基准测试通过 |

### NFR-MUX-002: 资源

| 属性 | 说明 |
|------|------|
| 描述 | 每流内存占用 < 1KB |
| 验收标准 | 内存分析通过 |

---

## 需求追溯

| 需求 | 来源 | 说明 |
|------|------|------|
| FR-MUX-003 | QUIC 规范 | 内置多路复用 |
| FR-MUX-004 | 性能要求 | 避免队头阻塞 |

---

**最后更新**：2026-01-11

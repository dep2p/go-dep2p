# core_transport 需求

> 需求追溯与规格说明

---

## 功能需求

### FR-TR-001: 连接监听

| 属性 | 说明 |
|------|------|
| 描述 | 系统应能在指定地址监听入站连接 |
| 优先级 | P0 |
| 验收标准 | 成功监听 UDP 端口，接受 QUIC 连接 |

### FR-TR-002: 连接发起

| 属性 | 说明 |
|------|------|
| 描述 | 系统应能向目标地址发起连接 |
| 优先级 | P0 |
| 验收标准 | 成功建立 QUIC 连接到目标 |

### FR-TR-003: 多路复用

| 属性 | 说明 |
|------|------|
| 描述 | 单连接应支持多个并发流 |
| 优先级 | P0 |
| 验收标准 | 单连接可打开 1000+ 并发流 |

### FR-TR-004: Multiaddr 支持

| 属性 | 说明 |
|------|------|
| 描述 | 系统应支持 Multiaddr 地址格式 |
| 优先级 | P0 |
| 验收标准 | 正确解析 /ip4/.../udp/.../quic-v1 |

### FR-TR-005: 0-RTT 握手

| 属性 | 说明 |
|------|------|
| 描述 | 对已知节点应支持 0-RTT 快速连接 |
| 优先级 | P1 |
| 验收标准 | 重连时首包即可携带数据 |

---

## 非功能需求

### NFR-TR-001: 性能

| 属性 | 说明 |
|------|------|
| 描述 | 连接建立应在 100ms 内完成（同局域网） |
| 验收标准 | 基准测试通过 |

### NFR-TR-002: 可靠性

| 属性 | 说明 |
|------|------|
| 描述 | 丢包率 10% 时仍能正常通信 |
| 验收标准 | 压力测试通过 |

---

## 需求追溯

| 需求 | 来源 | 说明 |
|------|------|------|
| FR-TR-003 | 协议规范 | QUIC 内置多路复用 |
| FR-TR-005 | 性能优化 | 减少重连延迟 |

---

**最后更新**：2026-01-11
